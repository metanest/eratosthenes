# 解説

MakefileはFreeBSD(AMD64)用です。

時折見掛ける、「N（なんらかの定数）以下の素数を全て出力せよ」というような問題に対する、アセンブラマクロによるメタプログラミングで事前に必要な素数を求めておく、という解の例です。アセンブラにはNetwide Assembler（NASM）を使っています。

基本的なアイディアは、ホーテンス・S・エンドウ（遠藤諭）さんの、月刊Ascii連載「近代プログラマの夕」1987年6月号「アセンブル中毒者のためのエラトステネス」（単行本『近代プログラマの夕』 pp. 88～93「素数を求める世界最速プログラム」）が基で、主にNASMのマクロに合わせた書き直しをおこなったものです。元のコードはMS MASM用のAMSCLSというマクロセットを使って書かれており、同マクロセットの配布物（  http://www.vector.co.jp/soft/dos/prog/se001158.html ）の中にサンプルとして入っていますので、そちらから入手できます。

NASMには（これの原型を私が書いた時には）整数値を文字列にしてくれる便利マクロとかありませんでしたので、itoaというマクロを追加しています。
